<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>SentimentSearch Web</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />
  </head>
  <body>
    <div class="container">
      <div id="introModal" class="modal" style="display: none">
        <div class="modal-content">
          <h2>ğŸ‘‹ Welcome to SentimentSearch!</h2>
          <p>
            This tool helps you search your photos using voice and emotion-based
            filtering.
          </p>
          <ul>
            <li>
              ğŸ¤ Click the mic to speak your query (e.g., "Show me 5 goofiest
              photos from Paris in January of 2022").
            </li>
            <li>
              ğŸ“¸ Use the camera button to take a photo of your current
              expression as a search filter.
            </li>
            <li>ğŸ’¾ Your queries and favorites are saved for easy access!</li>
          </ul>
          <button onclick="closeIntroModal()">Got it!</button>
        </div>
      </div>

      <h1>ğŸ‰ SentimentSearch Web</h1>

      <div class="input-container">
        <input
        type="text"
        id="query"
        list="query-suggestions"
        placeholder="Type or speak your query..."
      />
      <datalist id="query-suggestions">
        <option value="Show me 5 goofy photos from Paris in January of 2022">
        <option value="Find 3 happy photos from Tokyo in March 2023">
        <option value="Top 4 nostalgic pictures from New York">
        <option value="Give me top 7 photos from my captured emotion from Florida">
      </datalist>
        <button class="search-button" onclick="sendQuery(false)">ğŸ” Search</button>
        <button class="search-button" onclick="sendQuery(true)">ğŸ§  Search with AI</button>
      </div>

      <button class="mic-button" onclick="startListening()">ğŸ¤ Speak</button>
      <button class="camera-button" onclick="openCameraModal()">ğŸ“¸ Capture my face</button>


      <div id="cameraModal" class="modal" style="display: none">
        <div class="modal-content">
          <video id="video" autoplay playsinline></video>
          <br />
          <button onclick="capturePhoto()">ğŸ“· Capture</button>
          <button onclick="closeCameraModal()">âŒ Cancel</button>
        </div>
      </div>

      <div class="tabs">
        <button onclick="showTab('results')">ğŸ–¼ï¸ Results</button>
        <button onclick="showTab('favorites')">â­ Favorites</button>
        <button onclick="showTab('history')">ğŸ“œ History</button>
        <button onclick="showTab('photos')">ğŸ“ Uploaded</button>
      </div>

      <div id="results" class="tab-content"></div>
      <div id="favorites" class="tab-content" style="display: none"></div>
      <div id="history" class="tab-content" style="display: none"></div>
      <div id="photos" class="tab-content" style="display: none"></div>

      <!-- Toast notification -->
      <div id="toast" class="toast hidden"></div>

      <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    </div>
  </body>
</html>
